<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Denmara Image Format Conversion Tool</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <script src="https://cdn.lordicon.com/bhenfmcm.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/2.1.2/sweetalert.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/typed.js@2.0.12"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap');
        
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #0f172a;
            color: #e2e8f0;
        }
        .gradient-bg {
            background: linear-gradient(135deg, #6366f1 0%, #a855f7 100%);
        }
        .hover-scale {
            transition: transform 0.3s ease-in-out;
        }
        .hover-scale:hover {
            transform: scale(1.05);
        }
        .loader {
            border-top-color: #a855f7;
            -webkit-animation: spinner 1.5s linear infinite;
            animation: spinner 1.5s linear infinite;
        }
        @-webkit-keyframes spinner {
            0% { -webkit-transform: rotate(0deg); }
            100% { -webkit-transform: rotate(360deg); }
        }
        @keyframes spinner {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .blob {
            border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%;
            background: linear-gradient(45deg, #6366f1 0%, #a855f7 100%);
            filter: blur(40px);
        }
        .image-preview-container {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .overlay {
            background-color: rgba(0, 0, 0, 0.8);
            backdrop-filter: blur(5px);
        }
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        .drag-drop-area {
            border: 2px dashed #a855f7;
            transition: all 0.3s ease;
        }
        .drag-drop-area.dragover {
            background-color: rgba(168, 85, 247, 0.1);
            border-color: #6366f1;
        }
        .header {
            background: rgba(15, 23, 42, 0.8);
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }
        .footer {
            background: rgba(15, 23, 42, 0.8);
            backdrop-filter: blur(10px);
        }
        .footer a {
            transition: color 0.3s ease;
        }
        .footer a:hover {
            color: #a855f7;
        }
        .benefit-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }
        .benefit-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }
        .typed-cursor {
            color: #a855f7;
        }
        .faq-item {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }
        .faq-item:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        .faq-answer {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-out;
        }
        .faq-item.active .faq-answer {
            max-height: 300px;
            transition: max-height 0.5s ease-in;
        }
        .faq-icon {
            transition: transform 0.3s ease;
        }
        .faq-item.active .faq-icon {
            transform: rotate(180deg);
        }
        .action-button {
            @apply bg-gradient-to-r from-purple-500 to-indigo-500 text-white py-3 px-6 rounded-lg hover:from-purple-600 hover:to-indigo-600 transition duration-300 transform hover:scale-105 focus:outline-none focus:ring-2 focus:ring-purple-600 focus:ring-opacity-50 flex items-center justify-center;
        }
    </style>
</head>
<body class="min-h-screen p-4 relative overflow-x-hidden scrollbar-hide flex flex-col">
    <header class="header fixed top-0 left-0 right-0 z-50 py-4 px-6">
        <div class="max-w-6xl mx-auto flex justify-between items-center">
            <a href="/" class="flex items-center">
                <img src="Denmara__1_-removebg-preview.png" alt="Denmara Logo" class="w-12 h-12 sm:w-16 sm:h-16">
                <span class="ml-2 text-xl sm:text-2xl font-bold text-white">Denmara</span>
            </a>
            <a href="/login.html" id="loginText" class="text-white hover:text-purple-400 transition duration-300">Login</a>
        </div>
    </header>

    <main class="flex-grow mt-20">
        <div class="blob fixed top-0 left-0 w-64 h-64 opacity-50 -translate-x-1/2 -translate-y-1/2"></div>
        <div class="blob fixed bottom-0 right-0 w-96 h-96 opacity-50 translate-x-1/2 translate-y-1/2"></div>
        
        <div class="bg-gray-800 rounded-3xl shadow-2xl w-full max-w-4xl mx-auto my-8 animate__animated animate__fadeIn relative z-10">
            <div class="gradient-bg p-6 sm:p-8 rounded-t-3xl">
                <h1 class="text-3xl sm:text-4xl font-bold text-white text-center">Image Format Conversion Tool</h1>
                <p class="text-gray-200 text-center mt-2">Convert your images to various formats with ease</p>
            </div>
            
            <div class="p-6 sm:p-8">
                <div id="dragDropArea" class="mb-8 flex flex-col items-center justify-center h-40 drag-drop-area rounded-lg cursor-pointer">
                    <input type="file" id="fileInput" accept="image/*" class="hidden">
                    <lord-icon
                        src="https://cdn.lordicon.com/nxooksci.json"
                        trigger="hover"
                        colors="primary:#a855f7,secondary:#6366f1"
                        style="width:64px;height:64px;">
                    </lord-icon>
                    <p class="mt-2 text-sm text-gray-400 text-center">Choose files or<br>Drag and Drop here!</p>
                </div>
                <div id="imagePreview" class="mb-8 hidden">
                    <img id="previewImage" src="" alt="Image preview" class="max-w-full h-auto mx-auto">
                </div>

                <div id="conversionOptions" class="mb-8 hidden">
                    <label for="formatSelect" class="block text-sm font-medium text-gray-300 mb-2">Select output format:</label>
                    <select id="formatSelect" class="w-full bg-gray-700 text-white rounded-md px-3 py-2 mb-4">
                        <option value="png">PNG</option>
                        <option value="jpeg">JPEG</option>
                        <option value="webp">WebP</option>
                        <option value="gif">GIF</option>
                        <option value="bmp">BMP</option>
                    </select>
                </div>

                <div class="flex justify-center space-x-4">
                    <button id="convertBtn" class="action-button hidden">
                        <i class="fas fa-exchange-alt mr-2"></i>
                        <span>Convert Image</span>
                    </button>
                    <button id="downloadBtn" class="action-button hidden">
                        <i class="fas fa-download mr-2"></i>
                        <span>Download</span>
                    </button>
                </div>
            </div>
        </div>

        <div class="max-w-4xl mx-auto mt-16 sm:mt-20 mb-16">
            <h2 class="text-3xl font-bold text-center mb-12 gradient-bg text-white" data-aos="fade-up">Benefits of Denmara Image Wizard</h2>
            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8">
                <div class="benefit-card p-6 rounded-xl" data-aos="fade-up" data-aos-delay="100">
                    <lord-icon
                        src="https://cdn.lordicon.com/kbtmbyzy.json"
                        trigger="hover"
                        colors="primary:#a855f7,secondary:#6366f1"
                        style="width:64px;height:64px;">
                    </lord-icon>
                    <h3 class="text-xl font-semibold mt-4 mb-2">Multiple Formats</h3>
                    <p class="text-gray-300 h-20"><span class="typed-text" data-typed='["Convert your images to various formats including PNG, JPEG, WebP, GIF, and BMP."]'></span></p>
                </div>
                <div class="benefit-card p-6 rounded-xl" data-aos="fade-up" data-aos-delay="200">
                    <lord-icon
                        src="https://cdn.lordicon.com/gqdnbnwt.json"
                        trigger="hover"
                        colors="primary:#a855f7,secondary:#6366f1"
                        style="width:64px;height:64px;">
                    </lord-icon>
                    <h3 class="text-xl font-semibold mt-4 mb-2">Easy to Use</h3>
                    <p class="text-gray-300 h-20"><span class="typed-text" data-typed='["Intuitive interface makes image conversion a breeze for users of all skill levels."]'></span></p>
                </div>
                <div class="benefit-card p-6 rounded-xl" data-aos="fade-up" data-aos-delay="300">
                    <lord-icon
                        src="https://cdn.lordicon.com/dqxvvqzi.json"
                        trigger="hover"
                        colors="primary:#a855f7,secondary:#6366f1"
                        style="width:64px;height:64px;">
                    </lord-icon>
                    <h3 class="text-xl font-semibold mt-4 mb-2">Fast Conversion</h3>
                    <p class="text-gray-300 h-20"><span class="typed-text" data-typed='["Convert your images quickly and efficiently with our powerful tool."]'></span></p>
                </div>
            </div>
        </div>

         </main>
             <footer class="footer mt-16 py-6 px-6">
        <div class="max-w-6xl mx-auto flex flex-col items-center">
            <div class="mb-4">
                <a href="/terms" class="text-gray-300 hover:text-white mx-2">Terms and Conditions</a>
                <a href="/privacy" class="text-gray-300 hover:text-white mx-2">Privacy Policy</a>
            </div>
            <div class="text-gray-400 text-sm">
                &copy;2024 denmara.com
            </div>
        </div>
    </footer>

    <button id="scrollTopBtn" class="fixed bottom-4 right-4 bg-purple-500 text-white p-2 rounded-full shadow-lg transition-opacity duration-300 opacity-0 invisible">
        <i class="fas fa-arrow-up"></i>
    </button>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const dragDropArea = document.getElementById('dragDropArea');
        const fileInput = document.getElementById('fileInput');
        const imagePreview = document.getElementById('imagePreview');
        const previewImage = document.getElementById('previewImage');
        const conversionOptions = document.getElementById('conversionOptions');
        const formatSelect = document.getElementById('formatSelect');
        const convertBtn = document.getElementById('convertBtn');
        const downloadBtn = document.getElementById('downloadBtn');

        let selectedFile = null;

          const userAvatar = localStorage.getItem('userAvatar');
    if (userAvatar && loginText) {
        loginText.innerHTML = `<img src="${userAvatar}" alt="User Avatar" class="w-8 h-8 rounded-full">`;
    }

        // Drag and drop functionality
        ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
            dragDropArea.addEventListener(eventName, preventDefaults, false);
        });

        function preventDefaults(e) {
            e.preventDefault();
            e.stopPropagation();
        }

        ['dragenter', 'dragover'].forEach(eventName => {
            dragDropArea.addEventListener(eventName, highlight, false);
        });

        ['dragleave', 'drop'].forEach(eventName => {
            dragDropArea.addEventListener(eventName, unhighlight, false);
        });

        function highlight() {
            dragDropArea.classList.add('dragover');
        }

        function unhighlight() {
            dragDropArea.classList.remove('dragover');
        }

        dragDropArea.addEventListener('drop', handleDrop, false);

        function handleDrop(e) {
            const dt = e.dataTransfer;
            const files = dt.files;
            handleFiles(files);
        }

        // File input change event
        fileInput.addEventListener('change', function(e) {
            handleFiles(this.files);
        });

        // Handle selected files
        function handleFiles(files) {
            if (files.length > 0) {
                selectedFile = files[0];
                if (selectedFile.type.startsWith('image/')) {
                    displayPreview(selectedFile);
                } else {
                    swal("Error", "Please select an image file.", "error");
                }
            }
        }

        // Display image preview
        function displayPreview(file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                previewImage.src = e.target.result;
                imagePreview.classList.remove('hidden');
                conversionOptions.classList.remove('hidden');
                convertBtn.classList.remove('hidden');
            };
            reader.onerror = function() {
                swal("Error", "Failed to read the file. Please try again.", "error");
            };
            reader.readAsDataURL(file);
        }

        // Convert button click event
        convertBtn.addEventListener('click', function() {
            if (selectedFile) {
                const selectedFormat = formatSelect.value;
                convertImage(selectedFile, selectedFormat)
                    .then(blob => {
                        const url = URL.createObjectURL(blob);
                        downloadBtn.setAttribute('data-url', url);
                        downloadBtn.setAttribute('data-filename', `converted_image.${selectedFormat}`);
                        downloadBtn.classList.remove('hidden');
                        swal("Success", "Image converted successfully!", "success");
                    })
                    .catch(error => {
                        console.error('Conversion error:', error);
                        swal("Error", "Failed to convert image. Please try again.", "error");
                    });
            } else {
                swal("Error", "Please select an image first.", "error");
            }
        });

        // Download button click event
        downloadBtn.addEventListener('click', function() {
            const url = this.getAttribute('data-url');
            const filename = this.getAttribute('data-filename');
            const link = document.createElement('a');
            link.href = url;
            link.download = filename;
            link.click();
        });

        // Image conversion function
        function convertImage(file, format) {
            return new Promise((resolve, reject) => {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const img = new Image();
                    img.onload = function() {
                        const canvas = document.createElement('canvas');
                        canvas.width = img.width;
                        canvas.height = img.height;
                        const ctx = canvas.getContext('2d');
                        ctx.drawImage(img, 0, 0);

                        let mimeType;
                        switch (format.toLowerCase()) {
                            case 'png':
                                mimeType = 'image/png';
                                break;
                            case 'jpeg':
                            case 'jpg':
                                mimeType = 'image/jpeg';
                                break;
                            case 'webp':
                                mimeType = 'image/webp';
                                break;
                            case 'gif':
                                mimeType = 'image/gif';
                                break;
                            case 'bmp':
                                mimeType = 'image/bmp';
                                break;
                            default:
                                reject(new Error('Unsupported format'));
                                return;
                        }

                        // Check for canvas.toBlob support (some browsers may not support it)
                        if (canvas.toBlob) {
                            canvas.toBlob((blob) => {
                                resolve(blob);
                            }, mimeType);
                        } else {
                            // Polyfill for older browsers
                            const dataUrl = canvas.toDataURL(mimeType);
                            const binary = atob(dataUrl.split(',')[1]);
                            const array = [];
                            for (let i = 0; i < binary.length; i++) {
                                array.push(binary.charCodeAt(i));
                            }
                            resolve(new Blob([new Uint8Array(array)], { type: mimeType }));
                        }
                    };
                    img.onerror = function() {
                        reject(new Error("Image load failed"));
                    };
                    img.src = e.target.result;
                };
                reader.onerror = function() {
                    reject(new Error("File reading failed"));
                };
                reader.readAsDataURL(file);
            });
        }

        // Initialize AOS
        AOS.init();

        // Initialize Typed.js instances
        document.querySelectorAll('.typed-text').forEach(element => {
            new Typed(element, {
                strings: JSON.parse(element.getAttribute('data-typed')),
                typeSpeed: 50,
                backSpeed: 25,
                backDelay: 3000,
                startDelay: 1000,
                loop: true
            });
        });

        // FAQ functionality
        const faqItems = document.querySelectorAll('.faq-item');
        faqItems.forEach(item => {
            item.addEventListener('click', () => {
                item.classList.toggle('active');
            });
        });

        // Scroll to top functionality
        const scrollTopBtn = document.getElementById('scrollTopBtn');
        window.addEventListener('scroll', () => {
            if (window.pageYOffset > 100) {
                scrollTopBtn.classList.remove('opacity-0', 'invisible');
                scrollTopBtn.classList.add('opacity-100', 'visible');
            } else {
                scrollTopBtn.classList.add('opacity-0', 'invisible');
                scrollTopBtn.classList.remove('opacity-100', 'visible');
            }
        });

        scrollTopBtn.addEventListener('click', () => {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        });
    });
</script>

</body>
</html>
